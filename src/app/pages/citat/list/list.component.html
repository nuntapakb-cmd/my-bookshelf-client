<!-- src/app/pages/citat/list/list.component.html -->
<div class="container py-4 citat-page">

  <div class="d-flex flex-wrap justify-content-between align-items-center mb-4 gap-2">
    <!-- My Quotes -->
    <h3 class="page-title mb-2">
      {{ 'CITAT_MY_QUOTES' | translate }}
    </h3>

     <div class="d-flex gap-2 align-items-center filters-row">
      <!-- Search quotes... -->
      <input
        type="text"
        class="form-control search-input"
        [placeholder]="'CITAT_SEARCH_PLACEHOLDER' | translate"
        [(ngModel)]="searchTerm"
        (input)="applyFilters()"
      />

      <!-- All / Long / Short -->
      <select class="form-select filter-select" [(ngModel)]="filterType" (change)="applyFilters()">
        <option value="all">{{ 'CITAT_FILTER_ALL' | translate }}</option>
        <option value="long">{{ 'CITAT_FILTER_LONG' | translate }}</option>
        <option value="short">{{ 'CITAT_FILTER_SHORT' | translate }}</option>
      </select>

      <!-- All authors -->
      <select class="form-select filter-author" [(ngModel)]="filterAuthor" (change)="applyFilters()">
        <option value="all">{{ 'CITAT_FILTER_ALL_AUTHORS' | translate }}</option>
        <option *ngFor="let a of authors" [value]="a">{{ a }}</option>
      </select>

      <!-- From -->
      <label class="d-flex align-items-center gap-2 mb-0">
        <small class="text-muted">{{ 'CITAT_FROM' | translate }}</small>
        <input
          type="date"
          class="form-control form-control-sm"
          [(ngModel)]="dateFrom"
          (change)="applyFilters()"
        />
      </label>

      <!-- To -->
      <label class="d-flex align-items-center gap-2 mb-0">
        <small class="text-muted">{{ 'CITAT_TO' | translate }}</small>
        <input
          type="date"
          class="form-control form-control-sm"
          [(ngModel)]="dateTo"
          (change)="applyFilters()"
        />
      </label>

      <!-- Reset -->
      <button class="btn btn-outline-secondary btn-sm" (click)="resetFilters()">
        {{ 'BTN_RESET' | translate }}
      </button>

      <!-- Add New -->
      <button class="btn btn-primary" (click)="add()">
        <i class="fa fa-plus me-1"></i>
        {{ 'CITAT_ADD_NEW' | translate }}
      </button>
    </div>
  </div>

  <div *ngIf="loading" class="text-center py-5">
    <div class="spinner-border"></div>
  </div>

   <!-- Failed to load quotes -->
<div *ngIf="!!error" class="alert alert-danger">
  {{ 'QUOTES_FAILED_LOAD' | translate }}
</div>


  <!-- No matching quotes found -->
  <div *ngIf="!loading && filteredQuotes.length === 0" class="alert alert-info">
    {{ 'QUOTES_NO_MATCHES' | translate }}
  </div>

  <div class="quotes-grid" *ngIf="filteredQuotes.length">
    <div class="quote-card" *ngFor="let q of filteredQuotes">
      <div class="quote-body">
        <p class="quote-text">“{{ q.text }}”</p>
        <div class="quote-meta d-flex justify-content-between">
          <small class="text-muted">{{ q.author || '—' }}</small>
          <small class="text-muted">
            {{ q.createdAt ? (q.createdAt | date:'medium') : '' }}
          </small>
        </div>
      </div>

      <div class="quote-actions">
        <button class="btn btn-sm btn-outline-primary" (click)="edit(q)">
          <i class="fa fa-edit"></i>
        </button>
        <button class="btn btn-sm btn-outline-danger" (click)="remove(q)">
          <i class="fa fa-trash"></i>
        </button>
      </div>
    </div>
  </div>

</div>
